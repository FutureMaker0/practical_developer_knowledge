# 성능 향상
  - 사용자의 서비스를 처리할 당사자는 '서버'라 불리는 컴퓨터이다.
  - 시스템의 성능은 하드웨어와 소프트웨어를 아우른다.
  - 따라서 성능을 고려할 대상은 하드웨어와 소프트웨어가 결합된 '시스템'이라고 봐야 한다.

## 동시 사용자
  - 동시 사용자란 시스템에 접속해 시스템을 동시에 사용하는 사용자의 수
  - 구글 애널리틱스 툴을 활용하여 웹 서비스의 동시 사용자 모니터링, 웹 사이트 속도 모니터링 등이 가능하다.
  - 응답시간은 매우 중요하다. 사용자가 서비스를 요청한 시점부터 서버가 이 요청을 처리해 클라이언트에게 결과를 되돌려 주기까지의 시간
  - 동시 사용자의 수와 무관하게, 구글에서는 이 응답시간을 2초 이내로 유지하기를 권고한다.

## 병목 지점(서버의 동작)
  - 웹 서비스를 제공하는 시스템은 보통 웹 서버, 웹 애플리케이션 서버(WAS), DB 서버 등 다양한 서버로 구성되며 서로 유기적으로 동작한다.
  - 사용자가 웹 페이지 링크를 클릭하면 이 요청이 웹 서버에 도착한다. 
    - 웹 서버는 웹 서비스의 사용자를 접하는 일종의 접수 창구 역할을 한다.
    - 사용자에게 보이는 부분을 처리하며 실질적인 비즈니스 로직은 웹 애플리케이션 서버(WAS)가 처리한다.
   
## 웹 서버와 웹 애플리케이션 서버(WAS)
  - 웹 서버: 정적 페이지 처리, HTML로 작성되어 변화가 없는 페이지 처리.
  - 웹 애플리케이션 서버(WAS): 웹 페이지의 내용이 변하는 동적 페이지 처리. 대표적으로 아파치 톰캣이 있으며, 톰캣은 웹 서버를 내장하고 있어 별도 웹 서버 없이도 사용자 요청을 받아
    처리가 가능하다. 그러나 감당하기 힘든 수준의 처리가 필요할 때는, 별도의 웹 서버를 두어 요청을 분산 처리해야할 때도 있다.

## 성능 향상을 위한 5가지 개발 팁
성능 저하를 유발하는 다양한 원인을 찾아내는 것은 중요하지만, 그보다 더 중요한 것은 개발에 착수할 때부터 성능을 고려해 코드를 작성하려는 노력이다. 시스템의 성능을 높일 때 무엇보다 중요한 것은, 시스템에서 가장 느린 HDD가 할 일을 줄여주는 것이다.
  1. 과도한 로그 기록 지양
     - 로그는 디스크에 기록된다.
     - 사용자가 많아져 서버의 역할이 커지면 로깅도 성능에 영향을 미칠 수 있다.
     - 디스크에 데이터를 쓰는 동안에는 CPU를 사용하지 못한다.
     - 로그의 적절한 활용은 중요하지만, 시스템의 성능을 고려하여 적절히 사용해야 한다.
       
  2. 불필요한 데이터 조회 금지(쿼리 최적화)
     - DBMS는 데이터를 전담하여 관리하는 소프트웨어
     - 데이터는 디스크에 저장되기 때문에 데이터를 읽고 쓰는데 디스크 사용량이 많다. 이러한 이유로 시스템 병목은 데이터 읽고 쓰기에서 야기될 가능성이 높다.
     - 페이지네이션(pagination) 등을 통해 최적화된 쿼리를 구성하여 디스크 부하를 줄여야 한다.

  3. 고해상도 이미지 사용 지양
     - 웹페이지에서 이미지가 차지하는 비중은 매우 큰데, 고해상도 이미지의 크기를 줄이지 않고 사용할 경우 성능 저하의 주 원인이 된다.
     - 4k 고해상도 이미지일 경우 개당 용량이 약 5MB 이상이 된다. 이런 이미지가 10개 삽입된 웹페이지를 1000명의 사용자가 동시 조회할 경우 50GB 이상의 데이터 전송이 필요하게 되어
       부하에 걸릴 수밖에 없다.
     - 4k 해상도 이미지를 800*600 크기로 변경할 경우 5MB -> 200KB로 대폭 용량이 압축되고 데이터 통신량 감소로 응답 시간을 줄일 수 있다.
     - 높은 압축률을 확보하기 위해 jpeg, png, webp 등을 활용하는 것이 좋다.

  4. HTML, CSS, JS 파일은 압축
     - 디스크는 다른 하드웨어(CPU, 메모리)에 비해 속도가 느리기 떄문에 가급적 디스크에서의 I/O 작업을 줄여주는 것이 좋다.
     - 디스크에 저장되는 정적 파일인 HTML, CSS, HTML 파일을 압축하여, 처리를 위한 디스크 I/O 횟수를 줄여주는 것이 좋다.

  6. 웹 캐시의 적극 활용
     - 데이터를 임시로 저장하는 캐시를 활용하여 속도를 개선하기 위해 많이 사용되는 방법이다.
     1) max-age: 캐시의 유효기간 설정(초단위), 설정시간이 경과하면 해당 파일의 변경 여부를 서버에 요청한다. 만약 변경이 확인되면 새 파일을 캐싱하고 기간을 600초로 다시 설정한다.
        변경이 확인되지 않을 경우 파일은 기존의 것을 쓰고 시간만 600초로 재설정한다.
        잦은 변경이 있는데, 시간을 너무 길게 해놓으면 다시 또 바뀔때까지 모든 단계가 정상적으로 반영되지 않은 채로 기존 화면이 렌더링되는 것을 클라이언트가 경험할 수 있다. 간혹
        웹사이트를 업데이트 했음에도 그 이전의 화면을 보게 되는 경우가 이런 이유이다. 브라우저 차원에서 제공하는 캐시를 삭제하는 기능이 있으며, 잦은 변경이 예상되는 파일에는
        max-age를 짧게 설정하여 바로바로 반응하도록 하고, 그렇지 않은 경우에는 길게 설정하는 것이 좋다.
     2) no-cache: max-age=0과 유사하게 동작한다. 파일을 캐시하지만 항상 캐시 파일의 최신 여부를 확인해달라는 요청을 웹서버로 보낸다.
     3) no-store: 파일을 아예 캐싱하지 않는 옵션. 이 옵션을 통해, 보안이 필요한 중요한 파일의 경우 아예 캐시에 저장하지 않도록 할 수 있다.

## 클라우드 서비스(컴퓨팅)
  - 클라우드 서비스(컴퓨팅)의 국제 표준 정의(ISO/IEC22123-1)
    ```text
    paradigm for enabling network access to a scalabe and elastic pool of shareable physical or virtual resources with self-service
    provisioning and administration on-demand
    주문형 셀프 서비스 프로비져닝 및 관리를 통해 공유 가능한 물리적 또는 가상 리소스의, 확장 가능하고 탄력적인 풀에 대한 네트워크 엑세스를 가능하도록 하는 패러다임
    ```
    - 핵심 키워드: 'sharable physical or virtual resuorces', 'self-service: 간편한 버튼클릭', 'scalable and elastic: 탄력적이고 빠른 자원 확장'
    - 가상화한 컴퓨팅 자원을 공유 풀의 형태로 사용자에게 제공하는 것
    - 서버 자원을 대여하고 사용한 만큼 요금을 지불하는 것
   
### 클라우드 컴퓨팅의 탄력성(elastic)
  - 확장성: 시스템이 성능 요구사항에 맞게 능력을 키울 수 있는 정도.
    - 스케일 업: 하나의 서버를 크기를 키우는 것, 단일 하드웨어에 시스템 자원(CPU, 메모리, Disk 등)을 추가하거나 사양이 높은 장비로 교체하는 것(수직 확장)
    - 스케일 아웃: 서버를 여러 대 추가하여 처리 능력을 향상시키는 것(수평 확장)
  - 탄력성: self-service 버튼 클릭만으로 자원 추가가 가능한 클라우드 서비스에서는 시스템 부하량에 따라 자원을 동적으로 할당하고 활용한다. 사용자 트래픽이 증가하면 자원을 빠르게
    추가하고, 감소하면 해제하여 탄력적으로 운용한다. 서비스 탄력성으로 비용 절감까지 이뤄낼 수 있다.

### 오토 스케일링(Auto-Scaling)
  - 

